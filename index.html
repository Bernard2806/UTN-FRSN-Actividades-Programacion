<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />

    <title>Índice de PDFs - UTN FRSN Programación 1</title>

    <link
      rel="shortcut icon"
      href="Images\Logos\UTN Favicon.jpg"
      type="image/x-icon"
    />

    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>

    <style>
      .pdf-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
        padding: 1rem;
      }

      .pdf-card {
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 0.5rem;
        text-align: center;
        background-color: #f9f9f9;
      }

      .pdf-card a {
        text-decoration: none;
        color: #333;
        font-weight: bold;
      }

      .pdf-card small {
        display: block;
        margin-top: 0.5rem;
        color: #666;
      }

    </style>
  </head>
  <body>
    <h1>Índice de PDFs - UTN FRSN Programación 1</h1>
    
    <div id="pdf-grid" class="pdf-grid">Cargando PDFs...</div>

    <script>
      async function loadPDFs() {
        const response = await fetch(
          "https://raw.githubusercontent.com/Bernard2806/Ejercicios-UTN-FRSN-Programacion1/main/pdfs.yaml"
        );
        if (!response.ok) {
          document.getElementById("pdf-grid").innerText =
            "Error al cargar los PDFs.";
          return;
        }
        const yamlText = await response.text();
        const data = jsyaml.load(yamlText);

        const grid = document.getElementById("pdf-grid");
        grid.innerHTML = "";

        data.pdfs.forEach((pdf) => {
          const card = document.createElement("div");
          card.className = "pdf-card";

          card.innerHTML = `
          <a href="${pdf.url}" target="_blank">${pdf.path.split("/").pop()}</a>
          <small>Fecha: ${new Date(pdf.date).toLocaleDateString()}</small>
        `;
          grid.appendChild(card);
        });
      }

      loadPDFs();
    </script>
  </body>
</html>
